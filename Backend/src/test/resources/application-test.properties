# =========================
#  Database (Original)  (KEEP AS COMMENT) ? ??????
# =========================
# spring.datasource.url=jdbc:h2:mem:testdb;DATABASE_TO_LOWER=TRUE;DEFAULT_NULL_ORDERING=HIGH
# spring.datasource.driver-class-name=org.h2.Driver
# spring.datasource.username=sa
# spring.datasource.password=
# spring.h2.console.enabled=true
# spring.jpa.hibernate.ddl-auto=create-drop
# spring.jpa.show-sql=true
# spring.jpa.properties.hibernate.format_sql=true
# spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect
# spring.jpa.properties.hibernate.jdbc.use_get_generated_keys=true
# spring.jpa.properties.hibernate.jdbc.defer-datasource-initialization=false
# spring.jpa.properties.hibernate.globally_quoted_identifiers=true


# =========================
#  Database Configuration for Integration Tests (ACTIVE)
# =========================

spring.datasource.url=jdbc:h2:mem:testdb;
MODE=PostgreSQL;
DATABASE_TO_LOWER=TRUE;
CASE_INSENSITIVE_IDENTIFIERS=TRUE;
DEFAULT_NULL_ORDERING=HIGH;
DB_CLOSE_DELAY=-1;
DB_CLOSE_ON_EXIT=FALSE

spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# H2 Console
spring.h2.console.enabled=true


# =========================
#  JPA / Hibernate
# =========================

# ??? Hibernate auto-ddl
spring.jpa.hibernate.ddl-auto=none
spring.jpa.generate-ddl=false

spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect
spring.jpa.properties.hibernate.jdbc.use_get_generated_keys=true

# ??? Spring Boot init schema ???? Hibernate
spring.jpa.defer-datasource-initialization=true

# ??? quoting ??????? ???????? lower-case schema.sql
spring.jpa.properties.hibernate.globally_quoted_identifiers=false

# ?????? defer initialization (?????)
spring.jpa.properties.hibernate.jdbc.defer-datasource-initialization=true


# =========================
#  Flyway (???????????? error CREATE EXTENSION)
# =========================
spring.flyway.enabled=false



# =========================
#  Spring SQL Init (Run schema.sql)
# =========================
spring.sql.init.mode=always
spring.sql.init.schema-locations=classpath:schema.sql



# =========================
#  LOGGING
# =========================
logging.level.org.springframework=INFO
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql=TRACE
logging.level.com.example.devops=DEBUG
logging.level.org.springframework.jdbc.datasource.init=DEBUG
logging.level.org.flywaydb=DEBUG
